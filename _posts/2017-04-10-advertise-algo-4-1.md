---
layout:     post
title:      "计算广告学 笔记4.1 竞价广告系统"
category:   Ad
tags:		Ad
---

* content
{:toc}

课程地址：[计算广告学](http://study.163.com/note/noteIndex.htm?id=321007&type=0#/noteIndex?resType=0&resId=435072&sortType=0)

## 课时19 位置拍卖理论

对于Supply来讲，竞价与合约一个明显的不同是竞价广告已经不再保证量的下限了，只能保证质。

**竞价系统理论**

![](/images/images/ad/26.png)

**定价机制**

定价机制即决定一个广告位上的广告应该收取多少费用。从理论上讲，最优的应该是VCG(Vickrey-Clarke-Groves)机制，某对象的收费等于给别人带来的价值损害

![](/images/images/ad/27.jpg)

举例来讲，如果你出价为5元，要在排在第2位。VCG是假设在你没有出价的情况下，那么以前排第3位的现在会排到第2位，以前第4位的会排到第3位，以此类推，那第3位以后的广告主的价值会受到影响，因为越向后，广告位的点击率越小，那么VCG定价机制就是收取所有广告主受到损害的价值之和，与你的出价无关。研究表明这种机制是最容易让系统达到稳定的机制，并且可以让整体市场是truth-telling的，truth-telling以CPC为例，如果一个广告主认为一次点击带给他的10元的价值，那么他为点击出价10元是一个占优策略（当然一次点击不可能扣10元），这样他就不用经常修改他的出价。

在实际系统中广泛使用的是第二高价（Second pricing）机制：

![](/images/images/ad/28.jpg)

举例，一个广告主出价是5元，排在第2位，排在第3位的广告主出价是3元。如果是直接按出价扣费，那么广告主就有动力在广告在第2位不变的情况下将出价改低，一直改到3.01元，这样能保证付费最少，而在第二高价机制，那么排在第2位的广告主只会扣费3.01元，即使他改变出价到４元或是3.01元之类的出价，他的扣费都是3.01元，所以他就没有动力修改出价。与VCG机制相比，可以证明是会收取广告主更多的费用，这也是广告系统不愿采VCG机制的原因之一，整个市场不是truth-telling的，即广告主还是有调出价的动力，这就是SEM公司存在的原因。广告系统不愿使用VCG的另一原因是VCG机制比较复杂，而第二高价简单易行，为在线广告系统广泛采用。

## 课时20 广告网络概念

这里我们暂时只关注竞价机制下的广告网络。

Wiki中对广告网络的定义，Connects advertisers to web sites that want to host advertisement，这是一个非常泛的定义，广告网络的主要特征有：

1. 竞价系统（Auction System），有一个以质优化的销售系统，根据价格销售广告位。

2. 淡化广告位概念，广告网络是将多个网站的广告位收集后卖给广告主，广告网络在淡化广告位的概念，它向广告主卖的是人群。媒体中有优质广告位和劣质广告位，广告网络可以通过淡化广告位对人群打包进行售卖。

3. 最合适的计价方式为CPC，这是因为广告位有优劣之分，如果按CPM，广告主会很难估计一次展示的价值。

4. 它的不足是不易支持定制化用户划分，因为购买的关键词一般都是广告网络中有的一些关键词，广告主也需要对他想购买的关键词尝试分词后购买，但关键词有时无法准确地表达广告主想购买的人群，比如“想去日本旅游的人”，广告主无法在广告网络中做到购买自己的人群，这就是催生实时竞价的原因。

**Ad Network系统架构**

![](/images/images/ad/30.jpg)

首先User的访问会到Retrieval模块，它从索取中取得用户的标签，页面的标签，和符合需求的相应广告，这些广告交给Ranking模块，Ranking做CTR估计，计算eCPM后，选出最好的广告，它的日志会进入Hadoop后优化点击率模型。日志还会进入线上流式计算平台，流式计算平台上会进行反作弊分析，计费模块，如果在计费模块发现用户预算已经用完，会经过实时索引模块将用户广告下线。
