---
layout:     post
title:      "500 Lines or Less Chapter 17: The Same-Origin Policy 翻译"
category:   Translation
tags:       Python Translation
---

* content
{:toc}


## 介绍

同源政策（SOP）是每个现代浏览器安全机制的重要组成部分。它控制在浏览器中运行的脚本可以彼此通信首先在Netscape Navigator中引入，SOP现在在Web应用程序的安全性中起着至关重要的作用;没有它，恶意骇客轻易地在Facebook上阅读你的私人照片，阅读你的电子邮件或清空你的银行帐户。

但是SOP并不完美。有时，它太受限制了;有些情况（如mashup），其中来自不同来源的脚本应该能够共享资源但不能。在其他时候它没有限制，留下可以利用跨站点请求伪造等常见攻击的角色情况。此外，SOP的设计已经有机地发展，并且使许多开发人员困惑不解。

本章的目标是捕捉这个重要而又经常被误解的特征的本质。特别是我们将尝试回答以下问题：

* 为什么需要SOP？它阻止的安全违规类型是什么？

* Web应用程序的行为如何受到SOP的影响？

* 绕过SOP有什么不同的机制？

* 这些机制有多安全？他们介绍的潜在安全问题是什么？

考虑到所涉及的部分的复杂性 - Web服务器，浏览器，HTTP，HTML文档，客户端脚本等，整体覆盖SOP是一项艰巨的任务。我们可能会被所有这些部件的粗细细节陷入僵局（并且在达到SOP之前消耗了我们的500条线）。但是，如果没有代表关键的细节，我们怎么能做到精准呢？

合金建模
本章与本书中的其他内容有所不同。我们将构建一个可执行模型，而不是构建一个工作的实现，作为一个简单而精确的SOP描述。像一个实现一样，可以执行该模型来探索系统的动态行为，但与实现不同，该模型忽略了可能妨碍基本概念的低级细节。

我们采取的方法可能被称为“敏捷建模”，因为它与敏捷编程的相似之处。我们逐步工作，逐一组装模型。我们不断发展的模式是可以执行的一切。我们在制定和运行测试时，所以最终我们不仅拥有模型本身，还包含了它所满足的属性集合。

为了构建这个模型，我们使用Alloy，一种用于建模和分析软件设计的语言。合金模型不能以传统的程序执行方式执行。相反，模型可以（1）模拟以产生表示系统的有效场景或配置的实例，以及（2）检查以查看模型是否满足期望的属性。

尽管有上述的相似之处，敏捷建模与敏捷编程在一个关键方面有所不同：虽然我们将会运行测试，但我们实际上并不会写任何内容。 Alloy的分析仪自动生成测试用例，需要提供的所有测试用例都是要检查的属性。不用说，这节省了很多麻烦（和文字）。分析器实际上执行所有可能的测试用例，直到一定大小（称为范围）;这通常意味着产生具有最多一些数量的对象的所有起始状态，然后选择操作和参数来应用一些数量的st











































